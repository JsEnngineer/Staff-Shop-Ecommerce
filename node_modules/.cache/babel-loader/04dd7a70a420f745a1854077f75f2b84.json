{"ast":null,"code":"import React,{useEffect}from'react';import{Col,Container,Image,Row}from'react-bootstrap';import LikeHeart from\"../../../assets/img/like.svg\";import'./index.css';import axios from'axios';import{useSelector}from'react-redux';import{setLoaded,setProduct}from'../../../redux/actions/productActions';import{useDispatch}from'react-redux';import{setPage}from'../../../redux/actions/pagination';import Skeleton,{SkeletonTheme}from'react-loading-skeleton';import'react-loading-skeleton/dist/skeleton.css';import Loader from'../../../loader/skeletonLoader';import SideLoader from'../../../loader/skeletonLoaderSideProducts';import{Link}from'react-router-dom/cjs/react-router-dom.min';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function ListingProducts(){var products=useSelector(function(state){return state.allProducts.products;});var dispatch=useDispatch();var currentPage=useSelector(function(state){return state.page.currentPage;});var pageSize=useSelector(function(state){return state.page.pageSize;});var totalProductsCount=useSelector(function(state){return state.page.totalCount;});var pages=[];var pagesCount=Math.ceil(totalProductsCount/pageSize);for(var i=1;i<=pagesCount;i++){pages.push(i);}var _useSelector=useSelector(function(state){return{isLoaded:state.allProducts.isLoaded};}),isLoaded=_useSelector.isLoaded;console.log(products);useEffect(function(){dispatch(setLoaded(false));axios.get(\"https://jsonplaceholder.typicode.com/photos?_page=\".concat(currentPage,\"&max_limit=\").concat(pageSize)).then(function(response){dispatch(setProduct(response.data));});},[currentPage]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Container,{className:\"d-flex m-0 p-0\",children:[/*#__PURE__*/_jsx(Row,{xs:6,style:{height:'fit-content'},className:\"pr-3 m-0\",children:isLoaded?products&&products.map(function(item){return/*#__PURE__*/_jsxs(Col,{className:\" h-100 py-3 pl-5\",md:4,children:[/*#__PURE__*/_jsx(Image,{className:\"w-100\",rounded:true,fluid:true,src:item.url}),/*#__PURE__*/_jsxs(\"div\",{className:\"info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"desc d-flex \",children:[/*#__PURE__*/_jsx(Link,{to:\"/product/\".concat(item.id),children:/*#__PURE__*/_jsx(\"p\",{className:\"font-weight-bold\",children:\"\\u0416\\u0435\\u043D\\u0441\\u043A\\u0430\\u044F \\u043E\\u0434\\u0435\\u0436\\u0434\\u0430\"})}),/*#__PURE__*/_jsx(Image,{src:LikeHeart})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"secondary__info d-flex \",children:[/*#__PURE__*/_jsx(\"div\",{className:\"price font-weight-bold\",children:\"1000 \\u0433\\u0440\\u043D\"}),/*#__PURE__*/_jsx(\"div\",{className:\"speciality\",children:\"\\u0416\\u0435\\u043D\\u0441\\u043A\\u0430\\u044F \\u043E\\u0431\\u0443\\u0432\\u044C\"})]})]})]});}):Array(10).fill(0).map(function(_,index){return/*#__PURE__*/_jsx(Col,{className:\" h-100 py-3 pl-5\",md:4,children:/*#__PURE__*/_jsx(SkeletonTheme,{baseColor:\"#202020\",highlightColor:\"#444\",children:/*#__PURE__*/_jsx(Loader,{})})});})}),/*#__PURE__*/_jsx(Row,{xs:2,className:\" m-0 pr-3\",children:isLoaded?products&&products.slice(0,2).map(function(item){return/*#__PURE__*/_jsxs(Col,{md:12,className:\"d-flex flex-column p-0 py-3\",children:[/*#__PURE__*/_jsx(Image,{className:\"h-100\",style:{objectFit:'cover'},rounded:true,fluid:true,src:item.url}),/*#__PURE__*/_jsxs(\"div\",{className:\"info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"desc d-flex\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-weight-bold\",children:\"/ \\u0421\\u043F\\u043E\\u0440\\u0442\\u0438\\u0432\\u043D\\u044B\\u0439 \\u043A\\u043E\\u0441\\u0442\\u044E\\u043C \\u0441  \\u0436\\u0438\\u043B\\u0435\\u0442\\u043A\\u043E\\u0439\"}),/*#__PURE__*/_jsx(Image,{src:LikeHeart})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"secondary__info d-flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"price font-weight-bold\",children:\"1000 \\u0433\\u0440\\u043D\"}),/*#__PURE__*/_jsx(\"div\",{className:\"speciality\",children:\"OverSize\"})]})]})]});}):Array(2).fill(0).map(function(_,index){return/*#__PURE__*/_jsx(Col,{className:\" h-100 py-3 pl-5\",md:4,children:/*#__PURE__*/_jsx(SideLoader,{})});})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"pagination__container d-flex justify-content-center\",children:pages.map(function(page,index){return/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){return dispatch(setPage(page));},className:currentPage===page?'active__pagination p-2 border m-1 my-5':'p-2 border m-1 my-5',children:page},index);})})]});}export default ListingProducts;","map":{"version":3,"sources":["/Users/iosdevelope/Downloads/Staff-Shop/src/components/pages/listingProductsPage/listingProducts.jsx"],"names":["React","useEffect","Col","Container","Image","Row","axios","useSelector","setLoaded","setProduct","useDispatch","setPage","Skeleton","SkeletonTheme","Loader","SideLoader","Link","ListingProducts","products","state","allProducts","dispatch","currentPage","page","pageSize","totalProductsCount","totalCount","pages","pagesCount","Math","ceil","i","push","isLoaded","console","log","get","then","response","data","height","map","item","url","id","LikeHeart","Array","fill","_","index","slice","objectFit"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport { Col, Container, Image, Row } from 'react-bootstrap';\n\nimport LikeHeart from '../../../assets/img/like.svg';\nimport './index.css'\nimport axios from 'axios';\nimport { useSelector } from 'react-redux';\n\nimport { setLoaded, setProduct } from '../../../redux/actions/productActions';\nimport { useDispatch } from 'react-redux';\n\nimport { setPage } from '../../../redux/actions/pagination';\n\n\n\nimport Skeleton, { SkeletonTheme } from 'react-loading-skeleton'\nimport 'react-loading-skeleton/dist/skeleton.css'\nimport Loader from '../../../loader/skeletonLoader';\nimport SideLoader from '../../../loader/skeletonLoaderSideProducts';\nimport { Link } from 'react-router-dom/cjs/react-router-dom.min';\n\nfunction ListingProducts() {\n\n    let products = useSelector(state => state.allProducts.products)\n    const dispatch = useDispatch()\n\n\n    let currentPage = useSelector(state => state.page.currentPage)\n    let pageSize = useSelector(state => state.page.pageSize)\n    let totalProductsCount = useSelector(state => state.page.totalCount)\n\n    const pages = []\n\n    let pagesCount = Math.ceil(totalProductsCount / pageSize);\n\n    for (let i = 1; i <= pagesCount; i++) {\n        pages.push(i)\n    }\n\n    const { isLoaded } = useSelector(state => {\n        return {\n            isLoaded: state.allProducts.isLoaded,\n        }\n    });\n\n    console.log(products)\n\n    useEffect(() => {\n        dispatch(setLoaded(false))\n        axios.get(`https://jsonplaceholder.typicode.com/photos?_page=${currentPage}&max_limit=${pageSize}`).then((response) => {\n            dispatch(setProduct(response.data))\n        })\n    }, [currentPage])\n\n    return (\n        <>\n            <Container>\n                <Container className='d-flex m-0 p-0'>\n                    <Row xs={6} style={{ height: 'fit-content' }} className='pr-3 m-0'>\n                        {isLoaded ? products && products.map(item => {\n                            return (\n                                <Col className=' h-100 py-3 pl-5' md={4} >\n                                    <Image className='w-100' rounded fluid src={item.url} />\n                                    <div className='info'>\n                                        <div className='desc d-flex '>\n                                            <Link to={`/product/${item.id}`}>\n                                                <p className=\"font-weight-bold\">Женская одежда</p>\n                                            </Link>\n                                            <Image src={LikeHeart} />\n                                        </div>\n                                        <div className='secondary__info d-flex '>\n                                            <div className=\"price font-weight-bold\">1000 грн</div>\n                                            <div className=\"speciality\">Женская обувь</div>\n                                        </div>\n                                    </div>\n                                </Col>\n                            )\n                        }) : Array(10).fill(0).map((_, index) => <Col className=' h-100 py-3 pl-5' md={4} ><SkeletonTheme baseColor=\"#202020\" highlightColor=\"#444\"><Loader /></SkeletonTheme></Col>)}\n                    </Row>\n                    <Row xs={2} className=' m-0 pr-3' >\n                        {isLoaded ? products && products.slice(0, 2).map(item => {\n                            return (\n                                <Col md={12} className='d-flex flex-column p-0 py-3'>\n\n                                    <Image className='h-100' style={{ objectFit: 'cover' }} rounded fluid src={item.url} />\n                                    <div className='info'>\n                                        <div className='desc d-flex'>\n                                            <p className='font-weight-bold'>/ Спортивный костюм с  жилеткой</p>\n                                            <Image src={LikeHeart} />\n                                        </div>\n                                        <div className='secondary__info d-flex'>\n                                            <div className=\"price font-weight-bold\">1000 грн</div>\n                                            <div className=\"speciality\">OverSize</div>\n                                        </div>\n                                    </div>\n                                </Col>\n                            )\n                        }) : Array(2).fill(0).map((_, index) => <Col className=' h-100 py-3 pl-5' md={4} ><SideLoader /></Col>)}\n                    </Row>\n                </Container >\n            </Container>\n            <div className='pagination__container d-flex justify-content-center'>\n                {pages.map((page, index) => <span key={index} onClick={() => dispatch(setPage(page))} className={currentPage === page ? 'active__pagination p-2 border m-1 my-5' : 'p-2 border m-1 my-5'}>{page}</span>)}\n            </div>\n\n        </>\n    );\n}\n\nexport default ListingProducts;"]},"metadata":{},"sourceType":"module"}